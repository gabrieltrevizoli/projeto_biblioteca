<!DOCTYPE html>
<html lang="pt-br">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <title>{% block title %}Biblioteca{% endblock %}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

    <main class="container my-4">
        {% block content %}
        {% endblock %}
    </main>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <script src="{% static 'js/script.js' %}"></script>

    {% block scripts %}
    {% endblock scripts %}

    {% if messages %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const Toast = Swal.mixin({
                toast: true,
                position: 'top-right', // Posição no canto inferior esquerdo
                showConfirmButton: false,
                timer: 3500, // Desaparece em 3.5 segundos
                timerProgressBar: true,
                didOpen: (toast) => {
                    toast.addEventListener('mouseenter', Swal.stopTimer)
                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                }
            });

            {% for message in messages %}
                Toast.fire({
                    icon: '{{ message.tags }}', // Mapeia 'success', 'error', 'warning', 'info' para ícones
                    title: '{{ message }}'
                });
            {% endfor %}
        });
    </script>
    {% endif %}

</body>
</html>